# SAFE多智能体应急决策框架

## 项目概述

SAFE (Strategist-Awareness-Field-Experts-Executor) 是一个AI驱动的多智能体应急决策支持框架，专注于为现场指挥部提供智能化的战术决策支持，将传统的经验驱动决策升级为计算驱动决策。

## 核心架构

### 多智能体框架
- **S-Agent (战略家 Strategist)**: 负责基于当前态势生成战略框架和行动优先级建议
- **A-Agent (感知者 Awareness)**: 负责分析态势变化，识别关键信息节点和决策要点
- **F-Agent (专家 Field Experts)**: 负责调用专业领域知识，提供针对性的专业建议和风险评估
- **E-Agent (执行者 Executor)**: 负责将战略意图转化为具体、可执行的行动步骤建议
- **R-Agent (评估者 Reviewer)**: 在救援结束后，基于完整记录进行深度复盘分析和系统优化

### 系统定位
SAFE是S3DA2应急指挥框架的智能增强组件，专注于"谋划(Strategize)"和"决策(Decide)"环节的AI能力提升：
```
数据源层 → SIMAP系统 → EMAS系统 → SAFE智能体 → SIMAP展示 → 用户交互
```

## 项目结构

当前SAFE-BMAD文件夹是一个文档仓库，包含完整的项目规划和设计：

```
SAFE-BMAD/
├── docs/
│   ├── SAFE项目简报.md      # 项目概览和商业分析
│   ├── prd.md              # 产品需求文档
│   ├── epic-*.md           # 8个Epic详细规格文档
│   └── stories/            # 26个用户故事
└── .git/                   # Git版本控制
```

### Epic规划
- **Epic 1**: 基础框架搭建 (0-1个月)
- **Epic 2**: 核心Agent框架开发 (1-2个月)
- **Epic 3**: 模拟数据和基础分析能力 (2-3个月)
- **Epic 4**: 用户界面开发 (3-4个月)
- **Epic 5**: R-Agent复盘系统 (4-5个月)
- **Epic 6**: 外部系统集成 (5-7个月)
- **Epic 7**: 嵌入式界面和高级功能 (6-8个月)
- **Epic 8**: 性能优化和扩展 (8-10个月)

## 技术栈

### 后端技术
- **Python 3.9+**: 主要开发语言
- **FastAPI**: 高性能异步API框架
- **SQLAlchemy**: ORM框架
- **PostgreSQL**: 主数据库
- **Redis**: 缓存和消息队列

### AI/ML技术
- **AutoGen**: 多智能体协作框架
- **DeepSeek V3**: 核心语言模型
- **异步处理**: Python AsyncIO实现Agent并行协作

### 前端技术
- **React 18**: 用户界面框架
- **TypeScript**: 类型安全的JavaScript
- **Ant Design**: 企业级UI组件库

### 基础设施
- **腾讯云**: 云服务平台
- **Docker**: 容器化部署
- **Monorepo**: 单体仓库架构

## 核心特色

### 1. 人机协作模式
- AI负责信息整合、分析和方案生成
- 人类负责战略判断和最终决策
- 保持问责机制的完整性

### 2. 自我进化能力 (SAFER系统)
- 通过R-Agent实现系统自我学习和优化
- 每次救援后系统都会变得更智能、更安全
- 将救援经验转化为系统化AI能力

### 3. 渐进式架构演进
- **Phase 1**: 模块化单体架构 (0-3个月)
- **Phase 2**: 优化增强阶段 (3-9个月)
- **Phase 3**: 分布式扩展阶段 (9个月+)

### 4. 多种界面模式
- **完整功能界面**: 独立展示所有SAFE功能
- **管理界面**: 系统配置和Agent管理
- **嵌入式界面组件**: 可集成到SIMAP等其他系统

## 关键文档

### 核心文档
- [SAFE项目简报](docs/SAFE项目简报.md) - 完整的项目概览和商业分析
- [产品需求文档](docs/prd.md) - 详细的功能和技术需求
- [Epic 1: 基础框架搭建](docs/epic-1-foundation.md) - 基础设施建设
- [Epic 2: 核心Agent框架开发](docs/epic-2-core-agents.md) - 智能体开发
- [Epic 3: 模拟数据](docs/epic-3-simulation.md) - 场景模拟
- [Epic 4: UI开发](docs/epic-4-ui-development.md) - 用户界面
- [Epic 5: 复盘系统](docs/epic-5-review-system.md) - R-Agent系统
- [Epic 6: 系统集成](docs/epic-6-integration.md) - 外部集成
- [Epic 7: 嵌入式UI](docs/epic-7-embedded-ui.md) - 嵌入式组件
- [Epic 8: 系统优化](docs/epic-8-optimization.md) - 性能优化

### 用户故事
详细的用户故事位于 `docs/stories/` 目录，按Epic分组，包含具体的实现细节和验收标准。

## 开发指南

### 文档优先开发
当前项目处于详细的规划阶段，所有Epic和Story都有完整的文档化规格。开发团队应：

1. **阅读相关文档**: 开始开发前仔细阅读对应的Epic和Story文档
2. **遵循验收标准**: 每个Story都有明确的验收标准，确保开发质量
3. **渐进式实施**: 按照Epic顺序逐步实施，确保系统稳定性

### 技术实施要点
- **并行处理**: 使用AsyncIO实现Agent并行协作
- **API设计**: 提供标准RESTful API接口，支持与SIMAP、EMAS系统集成
- **数据安全**: 符合国家信息安全标准和等保要求
- **可扩展性**: 支持Agent数量的水平扩展和功能模块的插件化扩展

## 项目状态

**当前阶段**: 详细规划完成，准备进入技术实施阶段
**完成程度**: 100%规划文档化，包含8个Epic和26个用户故事
**下一步**: 开始Epic 1的基础框架搭建实施

## 商业价值

### 核心价值主张
- **智能化分析**: AI驱动的多维度分析，提升决策质量
- **实时协作**: 多智能体并行工作，提供全面的决策支持
- **经验沉淀**: 将专家经验AI化，实现知识传承和复用
- **持续进化**: 通过复盘学习，系统能力不断提升

### 目标客户
- **主要客户**: 现场指挥部（中国安能集团等）
- **扩展客户**: 各省市应急管理部门、专业救援队伍
- **交付模式**: 本地部署为主，SaaS服务为辅

---

*本项目通过AI多智能体协作，将复杂的分析工作从人类指挥官转移到AI系统，同时保持人类在关键决策中的最终控制权，为建设更高效、更科学的现代应急指挥体系提供核心技术支撑。*